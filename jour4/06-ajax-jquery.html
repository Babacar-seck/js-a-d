<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- div.item$*4 -->
    <div class="item1"></div>
    <div class="item2"></div>
    <div class="item3"></div>
    <div class="item4"></div>
    <!-- 
        télécharger jquery => google - jquery 
        dans la documentation https://jquery.com/ > Download 
        section CDN 
        https://developers.google.com/speed/libraries#jquery
    -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        // on peut utiliser la librairie jquery 
        // documentation https://jquery.com/
        /*
            il existe plusieurs manières de faire de l'ajax avec jquery :
            $("...").load("url")
            $.getJSON()
            $.get("url",callback) // ressemble à XmlHTTPRequest
            $.post()
            $.ajax()
        */
       // $("...").load("url") 
       // idéal pour remplir une balise html avec un fichier externe  le contenu d'un fichier externe
        $(".item1").load("06-menu.html");

        // $.getJSON()
        // json placeholder
        // opendata .gouv
        // issy opendata 
        // https://kanye.rest/
        $.getJSON("http://jsonplaceholder.typicode.com/posts", function( response ){
            let r = response.map(function(item){
                return `<p>${item.title}</p>`
            });
            $(".item2").html(r.join(""));
        } );
        // pas besoin de send / open / onload / JSON.parse()

        // $.get("url",callback) 
        $.get("http://jsonplaceholder.typicode.com/posts" , function(response){
            console.log(response);
            let r = response.map(function(item){
                return `<p>${item.title}</p>`
            });
            $(".item3").html(r.join(""));
        });

        //$.post() // formulaire => exemple suivant 

        // la dernière 

        $.ajax({
            url : "http://jsonplaceholder.typicode.com/posts" ,
            method : "get",
            success : function(response){ // si je recois une réponse du serveur en status  200 
                let r = response.map(function(item){
                    return `<p>${item.title}</p>`
                });
                $(".item4").html(r.join(""));
            },
            error : function(){} // si je reçois une réponse du serveur mais en status 500 / 400 
        });

        // réponse 404
        // demande une adresse internet 
        // via la barre d'adresse de ton navigateur ou via AJAX 
        // requête http 
        // serveur recevoir ta demande => réponse 
        // Etat de la réponse 200 => OK la réponse est conforme
        // Etat 404 => il n'a pas trouvé la ressource demandée 
        // PostMan un client HTTP == ressemble beaucoup l'onglet Réseau dans le navigateur 


    </script>
</body>
</html>
<!-- 
    06-ajax-post-jquery.html
-->